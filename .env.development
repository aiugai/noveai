# 开发环境全局变量
# 用于本地开发环境的配置

# =============================================================================
# 应用基础配置
# =============================================================================
# 注意：不要在 .env.* 文件中设置 NODE_ENV，Next.js/Node 会在构建时自行设定。
# 如需区分环境，请使用 APP_ENV
APP_ENV=development

# =============================================================================
# 数据库配置 (开发环境)
# =============================================================================
POSTGRES_HOST=__SET_IN_env.local__
POSTGRES_USER=__SET_IN_env.local__
POSTGRES_PASSWORD=__SET_IN_env.local__
POSTGRES_PORT=__SET_IN_env.local__

# Prisma需要的数据库 URL（按环境区分库名），真实连接字符串请放入 .env.development.local
DATABASE_URL=__SET_IN_env.local__

# =============================================================================
# Redis 配置 (开发环境)
# =============================================================================
REDIS_HOST=__SET_IN_env.local__
REDIS_PORT=__SET_IN_env.local__
REDIS_PASSWORD=__SET_IN_env.local__
REDIS_DB=__SET_IN_env.local__
REDIS_URL=__SET_IN_env.local__

# =============================================================================
# JWT 配置 (开发环境)
# =============================================================================
# 真实值请放入 .env.development.local
JWT_SECRET=__SET_IN_env.local__
JWT_EXPIRES_IN=30d
JWT_ACCESS_EXPIRATION=2592000

# =============================================================================
# 日志配置 (开发环境)
# =============================================================================
LOG_LEVEL=debug
# e2e fixtures 使用的测试日志级别（默认 error），用于本地 e2e 调试时调整输出
TEST_LOG_LEVEL=error

# =============================================================================
# Message Bus / 参与度 去重配置（开发环境）
# =============================================================================
# 发布任务指数回退的初始 delay（毫秒）
MESSAGEBUS_BACKOFF_DELAY_MS=1000
# 参与度事件分布式去重窗口（秒）
ENGAGEMENT_DEDUPE_TTL_SEC=300


# =============================================================================
# 前端配置 (开发环境)
# =============================================================================
# Next.js 前端环境标识，需与 APP_ENV 保持一致，供客户端判断环境
NEXT_PUBLIC_APP_ENV=${APP_ENV}
# 管理后台 Vite 环境标识，需与 APP_ENV 保持一致
VITE_APP_ENV=${APP_ENV}

# 前端应用信息与调试开关
NEXT_PUBLIC_APP_NAME=AI Frontend
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_DEBUG=false
NEXT_PUBLIC_DEV_TOOLS=false
NEXT_PUBLIC_FEATURE_RTKQ_POC=0

# 前端日志级别配置 (可选值: SILLY | TRACE | DEBUG | INFO | WARN | ERROR | FATAL)
# 开发环境默认 DEBUG,输出详细日志便于调试
NEXT_PUBLIC_LOG_LEVEL=DEBUG

# 前端静态资源配置
NEXT_PUBLIC_CDN_DOMAIN=development-file.tang-bao.com
NEXT_PUBLIC_DEFAULT_BACKGROUND_IMAGES=https://${NEXT_PUBLIC_CDN_DOMAIN}/background/1343086.jpeg,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/1344447.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/1363709.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/1369866.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/481903.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/569355.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/704387.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/737474.png,https://${NEXT_PUBLIC_CDN_DOMAIN}/background/1311796.png

# 管理后台配置
VITE_API_SERVER_URL=http://localhost:3005
VITE_APP_TITLE=AI Admin Dashboard
VITE_APP_VERSION=1.0.0
VITE_DEBUG=false
VITE_DEV_TOOLS=false

# Resend API for email verification
RESEND_API_KEY=__SET_IN_env.local__
EMAIL_FROM=noreply@example.com
EMAIL_FROM_NAME=AI Platform

# 邮件测试模式 - 设置为 true 跳过实际发送
EMAIL_TEST_MODE=false


# =============================================================================
# 后端访问前端URL配置
# =============================================================================
FRONTEND_URL=http://localhost:3006
# 允许的前端重定向来源白名单（逗号分隔，必须是 http/https origin）
FRONTEND_REDIRECT_ORIGINS=http://localhost:3006,http://localhost:3005
# OAuth 回调令牌传递策略：query（默认，兼容旧前端）或 cookie（更安全，需前后端配合）
OAUTH_CALLBACK_TOKEN_STRATEGY=query
NEXT_PUBLIC_API_BASE_URL=http://localhost:3005/api/v1


# 限流时间窗口（秒）
THROTTLE_TTL=60

# 限流请求数量
THROTTLE_LIMIT=60

# 是否启用 Redis 作为限流存储
THROTTLE_REDIS_ENABLE=true

# UniAPI 配置（AI 模块使用）
UNIAPI_API_KEY=__SET_IN_env.local__
UNIAPI_BASE_URL=__SET_IN_env.local__

# =============================================================================
# Seed 数据配置 (开发环境)
# =============================================================================
# 系统钱包初始余额控制（未设置时开发环境默认创建）
# SEED_INIT_WALLET_BALANCE=true




# 只输出我们关心的模块日志
LOG_CONTEXT_FILTER=

# 设置为 debug 级别以看到详细信息
LOG_LEVEL=debug
